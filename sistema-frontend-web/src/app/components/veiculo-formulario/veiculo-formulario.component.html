<mat-card class="veiculo-form-card">
  <mat-card-header>
    <mat-card-title>{{ isEditMode ? 'Editar Veículo' : 'Cadastrar Novo Veículo' }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="veiculoForm" (ngSubmit)="onSubmit()" class="form-grid">
      
      <mat-form-field appearance="outline">
        <mat-label>Marca</mat-label>
        <mat-select formControlName="marca">
          <mat-option value="">Selecione a Marca</mat-option>
          <mat-option value="Audi">Audi</mat-option>
          <mat-option value="BMW">BMW</mat-option>
          <mat-option value="Caoa Chery">Caoa Chery</mat-option>
          <mat-option value="Chevrolet">Chevrolet</mat-option>
          <mat-option value="Citroën">Citroën</mat-option>
          <mat-option value="Fiat">Fiat</mat-option>
          <mat-option value="Ford">Ford</mat-option>
          <mat-option value="Honda">Honda</mat-option>
          <mat-option value="Hyundai">Hyundai</mat-option>
          <mat-option value="Jeep">Jeep</mat-option>
          <mat-option value="Kia">Kia</mat-option>
          <mat-option value="Land Rover">Land Rover</mat-option>
          <mat-option value="Mercedes-Benz">Mercedes-Benz</mat-option>
          <mat-option value="Mitsubishi">Mitsubishi</mat-option>
          <mat-option value="Nissan">Nissan</mat-option>
          <mat-option value="Peugeot">Peugeot</mat-option>
          <mat-option value="Porsche">Porsche</mat-option>
          <mat-option value="Renault">Renault</mat-option>
          <mat-option value="Subaru">Subaru</mat-option>
          <mat-option value="Suzuki">Suzuki</mat-option>
          <mat-option value="Tesla">Tesla</mat-option>
          <mat-option value="Toyota">Toyota</mat-option>
          <mat-option value="Volkswagen">Volkswagen</mat-option>
          <mat-option value="Volvo">Volvo</mat-option>
          <mat-option value="Outra">Outra</mat-option>
        </mat-select>
        <mat-error *ngIf="veiculoForm.get('marca')?.invalid && veiculoForm.get('marca')?.touched">
          Marca é obrigatória.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Modelo</mat-label>
        <input matInput type="text" formControlName="modelo">
        <mat-error *ngIf="veiculoForm.get('modelo')?.invalid && veiculoForm.get('modelo')?.touched">
          Modelo é obrigatório.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Ano</mat-label>
        <mat-select formControlName="ano">
          <mat-option value="">Selecione o Ano</mat-option>
          <mat-option *ngFor="let ano of anos" [value]="ano">{{ ano }}</mat-option>
        </mat-select>
        <mat-error *ngIf="veiculoForm.get('ano')?.invalid && veiculoForm.get('ano')?.touched">
          Ano é obrigatório e deve ser um número válido.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Cor</mat-label>
        <input matInput type="text" formControlName="cor">
        <mat-error *ngIf="veiculoForm.get('cor')?.invalid && veiculoForm.get('cor')?.touched">
          Cor é obrigatória.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Preço</mat-label>
        <input matInput type="number" formControlName="preco">
        <mat-error *ngIf="veiculoForm.get('preco')?.invalid && veiculoForm.get('preco')?.touched">
          Preço é obrigatório e deve ser um número maior ou igual a zero.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Quilometragem</mat-label>
        <input matInput type="number" formControlName="quilometragem">
        <mat-error *ngIf="veiculoForm.get('quilometragem')?.invalid && veiculoForm.get('quilometragem')?.touched">
          Quilometragem é obrigatória e deve ser um número maior ou igual a zero.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Combustível</mat-label>
        <mat-select formControlName="tipoCombustivel">
          <mat-option value="">Selecione o Combustível</mat-option>
          <mat-option value="Gasolina">Gasolina</mat-option>
          <mat-option value="Etanol">Etanol</mat-option>
          <mat-option value="Flex">Flex</mat-option>
          <mat-option value="Diesel">Diesel</mat-option>
          <mat-option value="Elétrico">Elétrico</mat-option>
          <mat-option value="Híbrido">Híbrido</mat-option>
        </mat-select>
        <mat-error *ngIf="veiculoForm.get('tipoCombustivel')?.invalid && veiculoForm.get('tipoCombustivel')?.touched">
          Tipo de Combustível é obrigatório.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Câmbio</mat-label>
        <mat-select formControlName="cambio">
          <mat-option value="">Selecione o Câmbio</mat-option>
          <mat-option value="Manual">Manual</mat-option>
          <mat-option value="Automático">Automático</mat-option>
          <mat-option value="Automatizado">Automatizado</mat-option>
          <mat-option value="CVT">CVT</mat-option>
        </mat-select>
        <mat-error *ngIf="veiculoForm.get('cambio')?.invalid && veiculoForm.get('cambio')?.touched">
          Câmbio é obrigatório.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Placa</mat-label>
        <input matInput type="text" formControlName="placa">
        <mat-error *ngIf="veiculoForm.get('placa')?.invalid && veiculoForm.get('placa')?.touched">
          Placa é obrigatória e deve seguir o padrão Mercosul (ex: ABC1D23).
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Status</mat-label>
        <mat-select formControlName="status">
          <mat-option value="">Selecione um status</mat-option>
          <mat-option value="Disponível">Disponível</mat-option>
          <mat-option value="Vendido">Vendido</mat-option>
          <mat-option value="Reservado">Reservado</mat-option>
          <mat-option value="Manutenção">Manutenção</mat-option>
        </mat-select>
        <mat-error *ngIf="veiculoForm.get('status')?.invalid && veiculoForm.get('status')?.touched">
          Status é obrigatório.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width-field">
        <mat-label>Descrição</mat-label>
        <textarea matInput formControlName="descricao" rows="4"></textarea>
      </mat-form-field>

      <div class="form-buttons">
        <button mat-raised-button color="primary" type="submit" [disabled]="veiculoForm.invalid">Salvar Veículo</button>
        <button mat-flat-button color="warn" type="button" (click)="router.navigate(['/veiculos'])">Cancelar</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>